(this["webpackJsonpthe-shoppies"]=this["webpackJsonpthe-shoppies"]||[]).push([[0],{17:function(e,t,n){},18:function(e,t,n){},19:function(e,t,n){},20:function(e,t,n){},22:function(e,t,n){"use strict";n.r(t);var i=n(0),c=n(1),s=n.n(c),a=n(10),o=n.n(a),r=(n(17),n(3)),u=n(2);n(18),n(19),n(20);var l=function(e){var t=e.getTitle,n=Object(c.useState)(""),s=Object(u.a)(n,2),a=s[0],o=s[1];return Object(c.useEffect)((function(){t(a)}),[a]),Object(i.jsx)("div",{id:"search",children:Object(i.jsxs)("div",{id:"inner-search",children:[Object(i.jsx)("h2",{children:"Movie title"}),Object(i.jsx)("input",{id:"search-input",type:"text",value:a,onChange:function(e){o(e.target.value)}})]})})},j=n(6),d=n.n(j),b=n(9),h=n.p+"static/media/default-movie-poster.cf92e45e.jpg";var m=function(e){var t=e.movie,n=e.addOrRemove,c=e.list,s=e.nominations;return Object(i.jsxs)("div",{className:"movie-card",children:[Object(i.jsxs)("h4",{children:[t.Title," (",t.Year,")"]}),console.log(t.Poster),Object(i.jsx)("img",{src:"h"===t.Poster[0]?t.Poster:h,alt:t.Title}),Object(i.jsx)("br",{}),Object(i.jsxs)("div",{className:"bottom",children:[Object(i.jsxs)("p",{children:["View this movie on IMDB ",Object(i.jsx)("a",{href:"https://www.imdb.com/title/".concat(t.imdbID,"/"),target:"_blank",rel:"noreferrer",children:"here"}),"!"]}),Object(i.jsx)("button",{id:t.imdbID,className:c,disabled:!!s.find((function(e){return e.imdbID===t.imdbID}))&&"results"===c,onClick:function(){n(t,c)},children:"results"===c?"Nominate":"Remove Nomination"})]})]})};var O=function(e){var t=e.searchInput,n=e.addOrRemove,s=e.nominations,a=Object(c.useState)([]),o=Object(u.a)(a,2),l=o[0],j=o[1],h=Object(c.useState)(""),O=Object(u.a)(h,2),v=O[0],f=O[1],p=Object(c.useState)(1),x=Object(u.a)(p,2),g=x[0],w=x[1];return Object(c.useEffect)((function(){t.length&&function(){var e=Object(b.a)(d.a.mark((function e(){var n,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://www.omdbapi.com/?s=".concat(t,"&type=movie&page=1&apikey=").concat("40281cad"));case 3:return n=e.sent,e.next=6,n.json();case 6:i=e.sent,f(i.totalResults),j(Object(r.a)(i.Search)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}()()}),[t]),Object(c.useEffect)((function(){t.length&&function(){var e=Object(b.a)(d.a.mark((function e(){var n,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://www.omdbapi.com/?s=".concat(t,"&type=movie&page=").concat(g,"&apikey=40281cad"));case 3:return n=e.sent,e.next=6,n.json();case 6:i=e.sent,f(i.totalResults),j(Object(r.a)(i.Search)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}()()}),[g]),Object(i.jsxs)("div",{id:"results",children:[Object(i.jsx)("h2",{children:t?"".concat(v||0,' results for "').concat(t,'"'):"Type a movie title in the above to search for it!"}),Object(i.jsx)("div",{id:"results-list",children:l.map((function(e){return Object(i.jsx)(m,{movie:e,addOrRemove:n,list:"results",nominations:s},e.imdbID)}))}),Object(i.jsxs)("div",{id:"buttons",children:[g>1?Object(i.jsx)("button",{onClick:function(){return w(g-1)},children:"Previous Page"}):null,g>0&&10===l.length?Object(i.jsx)("button",{onClick:function(){return w(g+1)},children:"Next Page"}):null]})]})};var v=function(e){var t=e.addOrRemove,n=e.nominations;return Object(c.useEffect)((function(){5===n.length&&alert("Congratulations! You have nominated 5 movies! You must really like movies!")}),[n]),Object(i.jsxs)("div",{id:"nominations",children:[Object(i.jsx)("h2",{children:"Nominations"}),n.length?Object(i.jsx)("div",{id:"nominations-list",children:Object(r.a)(n).map((function(e){return Object(i.jsx)(m,{movie:e,addOrRemove:t,list:"nominations",nominations:n},e.imdbID)}))}):Object(i.jsx)("h2",{children:"You haven't made any nominations yet..."})]})},f=n(11);var p=function(){var e=new f.a,t=Object(c.useState)(""),n=Object(u.a)(t,2),s=n[0],a=n[1],o=Object(c.useState)(e.get("nominations")),j=Object(u.a)(o,2),d=j[0],b=j[1],h=function(t,n){if("results"===n){var i=Object(r.a)(d);i.push(t),b(i),e.set("nominations",i,{path:"/"})}else if("nominations"===n){var c=Object(r.a)(d);c=c.filter((function(e){return e.Title!==t.Title})),b(c),e.set("nominations",c,{path:"/"})}};return Object(i.jsxs)("div",{className:"App",children:[Object(i.jsx)("h1",{children:" The Shoppies"}),Object(i.jsx)(l,{getTitle:function(e){a(e)}}),Object(i.jsxs)("div",{id:"container",children:[Object(i.jsx)(O,{searchInput:s,addOrRemove:h,nominations:d}),Object(i.jsx)(v,{nominations:d,addOrRemove:h})]})]})},x=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,23)).then((function(t){var n=t.getCLS,i=t.getFID,c=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),i(e),c(e),s(e),a(e)}))};o.a.render(Object(i.jsx)(s.a.StrictMode,{children:Object(i.jsx)(p,{})}),document.getElementById("root")),x()}},[[22,1,2]]]);
//# sourceMappingURL=main.f0730084.chunk.js.map